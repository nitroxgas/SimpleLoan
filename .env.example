# Fantasma Protocol - Environment Configuration Example
# Copy this file to .env and fill in your values

# ============================================================================
# Elements / Liquid Network Configuration
# ============================================================================

# Elements RPC connection
ELEMENTS_RPC_URL=http://127.0.0.1:18884
ELEMENTS_RPC_USER=liquiduser
ELEMENTS_RPC_PASSWORD=liquidpass
ELEMENTS_RPC_PORT=18884

# Network (regtest, testnet, mainnet)
NETWORK=regtest

# Asset IDs (generated during setup)
# Run scripts/setup_testnet.sh to generate these
BTC_ASSET_ID=
USDT_ASSET_ID=

# ============================================================================
# Database Configuration
# ============================================================================

# SQLite database path
DATABASE_URL=sqlite:///./fantasma.db

# For PostgreSQL (future):
# DATABASE_URL=postgresql://user:password@localhost:5432/fantasma

# ============================================================================
# Backend API Configuration
# ============================================================================

# API server
API_HOST=0.0.0.0
API_PORT=8000

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# API secret key (generate with: python -c "import secrets; print(secrets.token_hex(32))")
API_SECRET_KEY=

# ============================================================================
# Oracle Configuration
# ============================================================================

# Oracle service URL
ORACLE_URL=http://localhost:8001

# Trusted oracle public keys (comma-separated hex)
ORACLE_PUBKEYS=

# Price staleness threshold (seconds)
ORACLE_STALENESS_THRESHOLD=600

# ============================================================================
# Protocol Parameters
# ============================================================================

# RAY precision (do not change)
RAY=1000000000000000000000000000

# Seconds per year (do not change)
SECONDS_PER_YEAR=31536000

# Liquidation threshold (RAY, e.g., 0.8 * RAY = 80%)
LIQUIDATION_THRESHOLD=800000000000000000000000000

# Liquidation bonus (RAY, e.g., 0.05 * RAY = 5%)
LIQUIDATION_BONUS=50000000000000000000000000

# Reserve factor (RAY, e.g., 0.1 * RAY = 10%)
RESERVE_FACTOR=100000000000000000000000000

# ============================================================================
# Interest Rate Model
# ============================================================================

# Base variable borrow rate (RAY, e.g., 0.02 * RAY = 2% annual)
BASE_VARIABLE_BORROW_RATE=20000000000000000000000000

# Optimal utilization (RAY, e.g., 0.8 * RAY = 80%)
OPTIMAL_UTILIZATION=800000000000000000000000000

# Slope 1 (before optimal, RAY)
SLOPE_1=40000000000000000000000000

# Slope 2 (after optimal, RAY)
SLOPE_2=600000000000000000000000000

# ============================================================================
# Logging
# ============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path
LOG_FILE=logs/app.log

# ============================================================================
# Development / Testing
# ============================================================================

# Enable debug mode (do not use in production)
DEBUG=false

# Enable test mode (uses mock oracle, simplified validation)
TEST_MODE=false

# Mock oracle prices (only if TEST_MODE=true)
MOCK_BTC_PRICE=50000000000000000000000000000000
MOCK_USDT_PRICE=1000000000000000000000000000

# ============================================================================
# Frontend Configuration
# ============================================================================

# Backend API URL (for frontend)
REACT_APP_API_URL=http://localhost:8000/api/v1

# Network display name
REACT_APP_NETWORK=Liquid Regtest

# Enable wallet connection
REACT_APP_ENABLE_WALLET=true

# ============================================================================
# Monitoring & Analytics
# ============================================================================

# Sentry DSN (error tracking, optional)
SENTRY_DSN=

# Analytics ID (optional)
ANALYTICS_ID=

# ============================================================================
# Security
# ============================================================================

# JWT secret (generate with: python -c "import secrets; print(secrets.token_hex(32))")
JWT_SECRET=

# JWT expiration (seconds)
JWT_EXPIRATION=3600

# Rate limiting (requests per minute)
RATE_LIMIT=60

# ============================================================================
# Deployment (Production Only)
# ============================================================================

# Production domain
DOMAIN=fantasma.network

# SSL/TLS
SSL_CERT_PATH=
SSL_KEY_PATH=

# Database connection pool
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# Redis (for caching, optional)
REDIS_URL=redis://localhost:6379/0

# ============================================================================
# Notes
# ============================================================================

# 1. Never commit .env file to git
# 2. Generate strong random values for secrets
# 3. Use different values for development/staging/production
# 4. Keep this .env.example file updated with new variables
# 5. RAY values are in 10^27 precision (e.g., 1.0 = 10^27)
